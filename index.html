<!--
  Main page of the CAN overhead calculator.
  Published under the terms of the BSD 3-Clause license.
  See LICENSE.md for details.
-->
<!DOCTYPE html>
<html lang=en-US>
<head>
    <meta charset=utf-8>
    <title>CAN overhead, stuffing and bitrate calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Nicola Furlan, Matjaž Guštin"/>
    <link rel="license" href="license.html"/>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<h1 id="main_title">
    CAN overhead, stuffing and bitrate calculator
</h1>
<noscript id="noscript_warning">
    <hr/>
    <h3>
        Please enable JavaScript for this website to work.
    </h3>
    <div>
        If you don't trust the code (some paranoia is always good!),
        you can inspect it first on
        <a href="https://github.com/Nik89/CanOverhead">GitHub</a>.
        The page works offline (no data is transmitted to any server),
        so alternatively you can download the files and open the
        <i>index.html</i> file in your browser even when not connected to the
        internet.
    </div>
    <hr/>
</noscript>
<div id="input_form">
    <div class="input">
        <div>
            <label for="input_can_identifier">CAN Identifier:</label>
            <input id="input_can_identifier" name="input_can_identifier"
                   type="text" value="42" autofocus/>
            <label for="input_can_identifier_base"
                   class="dropdown_menu_label">in base</label>
            <select name="input_can_identifier_base"
                    id="input_can_identifier_base">
                <option value="0b">Bin</option>
                <option value="">Dec</option>
                <option value="0x" selected>Hex</option>
            </select>
            <div id="input_can_identifier_error" class="input-error"></div>
        </div>
        <div>
            <label for="input_can_payload">CAN Payload data (hex):</label>
            <input id="input_can_payload" name="input_can_payload"
                   type="text" value="43 41 4E"/>
            <div id="input_can_payload_error" class="input-error"></div>
        </div>
        <div id="input_unknown_error" class="input-error"></div>
    </div>
    <div class="buttons">
        <button class="button" onclick="calculate()">Compute</button>
    </div>
    <div class="output">
        Whole frame [binary]:
        <ul>
            <li>
                <label for="output_can_whole_frame">
                    Without stuff bits:
                </label>
                <div id="output_can_whole_frame"></div>
            </li>
            <li>
                <label for="output_can_whole_frame_stuffed">
                    With stuff bits (as appears on bus):
                </label>
                <div id="output_can_whole_frame_stuffed"></div>
            </li>
            <li>
                <label for="output_max_length">
                    Worst-case frame length after stuffing,
                    assuming same ID and payload lengths:
                </label>
                <div id="output_max_length"></div>
            </li>
        </ul>
        <table id="output_table">
            <tr>
                <th>#</th>
                <th>Field name</th>
                <th>Length<br/>[bits]</th>
                <th>Content<br/>[bin]</th>
                <th>Content<br/>[hex]</th>
            </tr>
            <tr>
                <td>1</td>
                <td class="cell_text">Start of Frame (SOF)</td>
                <td id="output_can_field01_len"></td>
                <td id="output_can_field01"></td>
                <td id="output_can_field01_hex"></td>
            </tr>
            <tr>
                <td>2</td>
                <td class="cell_text">Identifier (ID)</td>
                <td id="output_can_field02_len"></td>
                <td id="output_can_field02"></td>
                <td id="output_can_field02_hex"></td>
            </tr>
            <tr>
                <td>3</td>
                <td class="cell_text">Remote Transfer Request (RTR)</td>
                <td id="output_can_field03_len"></td>
                <td id="output_can_field03"></td>
                <td id="output_can_field03_hex"></td>
            </tr>
            <tr>
                <td>4</td>
                <td class="cell_text">Identifier Extension (IDE)</td>
                <td id="output_can_field04_len"></td>
                <td id="output_can_field04"></td>
                <td id="output_can_field04_hex"></td>
            </tr>
            <tr>
                <td>5</td>
                <td class="cell_text">Reserved 0 (R0)</td>
                <td id="output_can_field05_len"></td>
                <td id="output_can_field05"></td>
                <td id="output_can_field05_hex"></td>
            </tr>
            <tr>
                <td>6</td>
                <td class="cell_text">Data Length Code (DLC)</td>
                <td id="output_can_field06_len"></td>
                <td id="output_can_field06"></td>
                <td id="output_can_field06_hex"></td>
            </tr>
            <tr>
                <td>7</td>
                <td class="cell_text">Data (Payload)</td>
                <td id="output_can_field07_len"></td>
                <td id="output_can_field07"></td>
                <td id="output_can_field07_hex"></td>
            </tr>
            <tr>
                <td>8</td>
                <td class="cell_text">Cyclic Redundancy Check (CRC)</td>
                <td id="output_can_field08_len"></td>
                <td id="output_can_field08"></td>
                <td id="output_can_field08_hex"></td>
            </tr>
            <tr>
                <td>9</td>
                <td class="cell_text">CRC Delimiter</td>
                <td id="output_can_field09_len"></td>
                <td id="output_can_field09"></td>
                <td id="output_can_field09_hex"></td>
            </tr>
            <tr>
                <td>10</td>
                <td class="cell_text">Acknowledgement (ACK) Slot</td>
                <td id="output_can_field10_len"></td>
                <td id="output_can_field10"></td>
                <td id="output_can_field10_hex"></td>
            </tr>
            <tr>
                <td>11</td>
                <td class="cell_text">Acknowledgement Delimiter</td>
                <td id="output_can_field11_len"></td>
                <td id="output_can_field11"></td>
                <td id="output_can_field11_hex"></td>
            </tr>
            <tr>
                <td>12</td>
                <td class="cell_text">End of Frame (EOF)</td>
                <td id="output_can_field12_len"></td>
                <td id="output_can_field12"></td>
                <td id="output_can_field12_hex"></td>
            </tr>
            <tr>
                <td>13</td>
                <td class="cell_text">Pause After Frame</td>
                <td id="output_can_field13_len"></td>
                <td id="output_can_field13"></td>
                <td id="output_can_field13_hex"></td>
            </tr>
        </table>
    </div>
</div>
<footer>
    <div>
        Made with &#x1f499; by
        <a href="https://github.com/Nik89">Nicola Furlan</a>
        and <a href="https://matjaz.it/">Matjaž Guštin</a>
    </div>
    <div>
        Version 1.0.0
        &ndash;
        <a href="changelog.html">
            Changelog
        </a>
        &ndash;
        <a href="https://github.com/Nik89/CanOverhead">
            Source code on GitHub
        </a>
        &ndash;
        <a href="https://github.com/Nik89/CanOverhead/issues">
            Found a bug?
        </a>
    </div>
    <br>
    <div>
        This website does not use cookies, does not advertise nor track the
        users. All calculations happen in your browser, no data is sent
        to any server.
        The results of the calculator are provided with best-effort
        from the authors but with no guarantee of correctness, as stated
        formally in the <a href="license.html">source code license</a>.
    </div>
</footer>
<script type="text/javascript" src="CanOverhead.js" charset="utf-8"></script>
<script type="text/javascript" src="HtmlToLibAdapter.js"
        charset="utf-8"></script>
<script type="text/javascript" src="TestCanOverhead.js"
        charset="utf-8"></script>
</body>
</html>
